@using MomExchange.Models
@model object

@{
    ViewBag.Title = "Đăng nhập & Đăng ký";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var loginModel = Model as LoginViewModel ?? new LoginViewModel();
    var registerModel = Model as RegisterViewModel ?? new RegisterViewModel();
}

<link href="~/Content/account-style.css" rel="stylesheet" />

<div class="auth-page-wrapper">
    <div class="container-auth @(ViewBag.ShowRegister == true ? "right-panel-active" : "")" id="container-auth">
        <div class="form-container sign-up-container">
            @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "auth-form" }))
            {
                @Html.AntiForgeryToken()
                <h1>Tạo tài khoản</h1>
                <div class="social-container">
                    <a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
                </div>
                <span>hoặc sử dụng email của bạn để đăng ký</span>

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                @Html.EditorFor(m => registerModel.UserName, new { htmlAttributes = new { @placeholder = "Tên tài khoản" } })
                @Html.EditorFor(m => registerModel.Email, new { htmlAttributes = new { @placeholder = "Email" } })
                @Html.EditorFor(m => registerModel.Password, new { htmlAttributes = new { @placeholder = "Mật khẩu" } })
                @Html.EditorFor(m => registerModel.ConfirmPassword, new { htmlAttributes = new { @placeholder = "Xác nhận mật khẩu" } })
                <button class="auth-button" type="submit">Đăng Ký</button>
            }
        </div>

        <div class="form-container sign-in-container">
            @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "auth-form" }))
            {
                @Html.AntiForgeryToken()
                <h1>Đăng Nhập</h1>
                <div class="social-container">
                    <a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
                </div>
                <span>hoặc sử dụng tài khoản của bạn</span>

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                @Html.EditorFor(m => loginModel.Email, new { htmlAttributes = new { @placeholder = "Email" } })
                @Html.EditorFor(m => loginModel.Password, new { htmlAttributes = new { @placeholder = "Mật khẩu" } })
                <a href="#">Quên mật khẩu?</a>
                <button class="auth-button" type="submit">Đăng Nhập</button>
            }
        </div>

        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Chào mừng trở lại!</h1>
                    <p>Để giữ kết nối với cộng đồng, vui lòng đăng nhập bằng thông tin cá nhân của bạn</p>
                    <button class="auth-button ghost" id="signIn">Đăng Nhập</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>Chào bạn!</h1>
                    <p>Nhập thông tin cá nhân của bạn và bắt đầu hành trình cùng chúng tôi</p>
                    <button class="auth-button ghost" id="signUp">Đăng Ký</button>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        const signUpButton = document.getElementById('signUp');
        const signInButton = document.getElementById('signIn');
        const container = document.getElementById('container-auth');

        signUpButton.addEventListener('click', () => {
            container.classList.add("right-panel-active");
        });

        signInButton.addEventListener('click', () => {
            container.classList.remove("right-panel-active");
        });
    </script>
}